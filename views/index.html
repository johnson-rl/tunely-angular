<!DOCTYPE html>
<html lang="en" ng-app="tunely">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>tunely</title>

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="/vendor/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/styles/styles.css">

    <!-- VENDOR SCRIPTS -->
    <script src="/vendor/angular/angular.min.js"></script>
    <script src="/vendor/angular-route/angular-route.min.js"></script>

    <!-- APPLICATION SCRIPTS -->
    <script src="/scripts/app.js"></script>

  </head>
  <body>
    <div class="jumbotron">
      <div class="container">
        <h1>Welcome to tunely</h1>
        <p>Your music binder!</p>
      </div>
    </div>

    <!-- Here we declare the controller that will be in charge of the
        logic for this portion of the HTML. The 'as' part of the statement
        means that the controller's alias within the HTML will be
        albumsIndexCtrl-->
    <div class="container" ng-controller="AlbumsIndexController as albumsIndexCtrl">
      <form ng-submit="albumsIndexCtrl.createAlbum()">
        <input type="text" class="form-control" placeholder="New album name" ng-model="albumsIndexCtrl.newAlbum.name">
        <input type="text" class="form-control" placeholder="New album artist" ng-model="albumsIndexCtrl.newAlbum.artistName">
        <input type="text" class="form-control" placeholder="New album release date" ng-model="albumsIndexCtrl.newAlbum.releaseDate">
        <!-- <input type="text" class="form-control" placeholder="New album genres" ng-model="albumsIndexCtrl.newAlbum.genres"> -->
        <!-- <input type="hidden" ng-model="albumsIndexCtrl.genreAdd.genres"> -->
      <p>genres(list one per row):</p>
      <div ng-repeat="genre in albumsIndexCtrl.genreAdd.genres track by $index">
        <input type="text" ng-model="genre.name" name="">
      </div>
      <button type="button" name="button" class="btn btn-sm btn-xs-default" ng-click="albumsIndexCtrl.count()">Add a genre</button>
      <br>
      <br>
      <button type="submit" class="form-control" name="button">Sumbit</button>
      <br>
    </form>

      <p><b>New Album:</b> {{albumsIndexCtrl.newAlbum.name + " by " + albumsIndexCtrl.newAlbum.artistName + " released in " + albumsIndexCtrl.newAlbum.releaseDate + " genres: " + albumsIndexCtrl.newAlbum.genres}}</p>
      <input type="text" class="form-control" ng-model="searchText" placeholder="Search Albums">
      <br>
      <form ng-submit="albumsIndexCtrl.find()">
        <!-- <input type="text" class="form-control" placeholder="New album name" ng-model="albumsIndexCtrl.findAlbum.name"> -->
        <input type="text" class="form-control" placeholder="Search the database" ng-model="albumsIndexCtrl.foundAlbum.artistName">
        <!-- <input type="text" class="form-control" placeholder="New album genres" ng-model="albumsIndexCtrl.findAlbum.genres"> -->
        <!-- <input type="text" class="form-control" placeholder="New album release date" ng-model="albumsIndexCtrl.findAlbum.releaseDate"> -->
        <br>
        <button type="submit" class="form-control" name="button">Search the database for Artist</button>
      </form>
      <br>
      <div ng-repeat="album in albumsIndexCtrl.albums | orderBy: 'name' | filter: searchText" class="row">

        <div class="col-md-10 col-md-offset-1">
          <div class="panel panel-default">
            <div class="panel-body">

            <!-- begin album internal row -->
              <div class="row">
                <div class="col-md-3 col-xs-12 thumbnail">
                  <img src="images/800x800.png" alt="album image">
                </div>

                <div class="col-md-9 col-xs-12">
                  <ul class="list-group form-inline">
                    <li class="list-group-item">
                      <h4 class="inline-header">Album Name:</h4>
                      <span>{{album.name}}</span>
                    </li>

                    <li class="list-group-item">
                      <h4 class="inline-header">Artist Name:</h4>
                      <span>{{album.artistName}}</span>
                    </li>
                    <li class="list-group-item">
                      <h4 class="inline-header">Genres:</h4>
                      <span ng-repeat="genre in album.genres track by $index">{{genre + ' '}}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

</html>
